/*! kodegenet 03-10-2015 */
"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(a){return this.slice(0,a.length)==a}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return this.slice(-a.length)===a});var Kodegenet=Ember.Application.create({ready:function(){this.register("session:setting",Kodegenet.SettingController,{singleton:!0}),this.register("session:session",Kodegenet.SessionController,{singleton:!0}),this.inject("controller","settings","session:setting"),this.inject("controller","session","session:session"),this.inject("controller:setting","store","store:main")},createCookie:function(a,b,c){var d=null;if(c){var e=new Date;e.setTime(e.getTime()+24*c*60*60*1e3),d="; expires="+e.toGMTString()}else d="";document.cookie=a+"="+b+d+"; path=/"},readCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},eraseCookie:function(a){this.createCookie(a,"",-1)}});DS.RESTAdapter.reopen({namespace:"json"}),Kodegenet.Adapter=DS.RESTAdapter.extend(),Ember.Inflector.inflector.irregular("oppgave","oppgaver"),Ember.Inflector.inflector.irregular("productCategory","productCategories"),Ember.Inflector.inflector.irregular("figur","figurer"),Kodegenet.ApplicationStore=DS.Store.extend({adapter:"Kodegenet.Adapter"}),Kodegenet.UpdateAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.PageAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.SettingAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.EventAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.ProductCategoryAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.ProductAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.TrackAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.FigurAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.CourseAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.ChapterAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.SubchapterAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.ShoppingCartAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.CartProductAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.UserAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.OrderAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.InstagramPhotoAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.EventParticipantAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.EventAdapter=Kodegenet.Adapter.extend({namespace:"kodegenet"}),Kodegenet.ApplicationController=Ember.ObjectController.extend({sortProperties:["publishedDate"],sortAscending:!1,init:function(){console.log("Application Controller init");var a=this;this.store.find("setting").then(function(b){console.log(b.content),b.content.forEach(function(b){console.log(b);var c=b.id,d=b._data.settingsValue;console.log(c+" ::: "+d),a.settings.set(b.id,d)})}),this.reuseOrGenerateNewSession()},actions:{acceptCookies:function(){$.ajax({type:"POST",url:"/kodegenet/acceptCookies",success:function(){},error:function(){}})},doLogOut:function(){var a=this;$.ajax({type:"POST",url:"/kodegenet/auth/logout",success:function(){Kodegenet.eraseCookie("uuid"),a.set("session.session",null),a.set("session.shoppingCart",null)}})}},reuseOrGenerateNewSession:function(){var a=this;$.ajax({type:"POST",url:"/kodegenet/createSession",success:function(b){console.log(b.session.id),Kodegenet.createCookie("uuid",b.session.id,10),console.log("accepts cookies:"),console.log(b.session.acceptedCookies);var c=b.session,d=a.store.push("session",c);a.set("session.session",d),a.store.find("shoppingCart",b.session.id).then(function(b){a.set("session.shoppingCart",b)})},error:function(a,b,c){console.log("error: "+b+" error: "+c)}})},coursesObserver:function(){if(this.get("model.courses")){var a=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:this.get("model.courses"),sortProperties:["sortIndex"],sortAscending:!0});this.set("model.sortedCourses",a)}}.observes("model.courses"),tracksObserver:function(){if(this.get("model.tracks")){var a=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:this.get("model.tracks"),sortProperties:["sortIndex"],sortAscending:!0});this.set("model.sortedTracks",a)}}.observes("model.tracks"),sortedEvents:function(){var a=this.get("events"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["date"]});return b}.property("events.@each.date"),futureEvents:function(){var a=[];return this.get("sortedEvents").forEach(function(b){b.get("isInFuture")&&b.get("isVisible")&&a.pushObject(b)}),a}.property("sortedEvents")}),Kodegenet.ApplicationRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({updates:this.store.find("update"),events:this.store.find("event"),courses:this.store.find("course"),tracks:this.store.find("track")})}}),Kodegenet.BlurTextFieldComponent=Ember.Component.extend({tagName:"input",classNames:["ember-text-field"],attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","pattern","step","width"],type:"text",focusOut:function(a){console.log("<<<<focusOut>>>>>"),this.sendAction("changedValue"),console.log(a)},onBlur:function(a){console.log("<<<<onBlur>>>>>"),console.log(a)}}),Kodegenet.BrukerInfoComponent=Ember.Component.extend({emailAddress:"",givenName:"",surname:"",address:"",postalCode:"",city:"",phone:"",emailAddressIsInvalid:!1,actions:{emailFocusOut:function(){console.log("email focus out!");var a=this.validateEmail(this.get("loginEmailAddress"));a?this.set("emailAddressIsInvalid",!1):this.set("emailAddressIsInvalid",!0)},registrerKonto:function(){console.log("bruker-info registrerKonto");var a={id:this.get("loginEmailAddress"),givenName:this.get("givenName"),surname:this.get("surname"),address:this.get("address"),postalCode:this.get("postalCode"),city:this.get("city"),phone:this.get("phone"),email:this.get("loginEmailAddress")};this.sendAction("registrerKonto",a)}},validateEmail:function(a){var b=/^[a-zA-Z_0-9\-\.]+@[a-zA-Z_0-9\-\.]+?\.[a-zA-Z]{2,4}$/;return a?a.match(b):!1}}),Kodegenet.FacebookFollowComponent=Ember.Component.extend({}),Kodegenet.NumberTextField=Ember.TextField.extend({keyDown:function(a){46==a.keyCode||8==a.keyCode||9==a.keyCode||27==a.keyCode||13==a.keyCode||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||(a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))&&a.preventDefault()}}),Kodegenet.RenderSubchapterComponent=Ember.Component.extend({}),Kodegenet.ShoppingCartComponent=Ember.Component.extend({showShippingDetails:!1,emailAddress:"",givenName:"",surname:"",address:"",postalCode:"",city:"",phone:"",createAccount:!0,fullNameValid:!1,didInsertElement:function(){var a=this.get("elementId"),b=this,c=StripeCheckout.configure({key:"pk_test_khGORg8E5K6jf1qVbnlkzvy1",image:"/square-image.png",token:function(a){console.log("<<<<<TOKEN>>>>>"),console.log(a);var c={stripeToken:a.id,stripeTokenType:a.type,stripeEmail:a.email};$.ajax({type:"POST",url:"/kodegenet/stripePayment",data:JSON.stringify(c),success:function(a){console.log("SUCCESSFUL PURCHASE!!!!"),console.log(a),b.get("cart").reload(),"success"===a.status&&a.orderId&&b.sendAction("orderSuccess",a.orderId)},error:function(a,b,c){console.log("error: "+b+" error: "+c)}})}});this.set("stripeHandler",c),Ember.run.schedule("afterRender",function(){$("#"+a).hide().slideDown()})},willDestroyElement:function(){this.get("stripeHandler")&&this.get("stripeHandler").close();var a=this.$().clone();this.$().parent().parent().append(a),a.slideUp()},actions:{increaseAmount:function(a){a.set("orderedProductNumber",parseInt(a.get("orderedProductNumber"))+1),a.save()},decreaseAmount:function(a){a.set("orderedProductNumber",parseInt(a.get("orderedProductNumber"))-1),a.save()},triggerStripePurchase:function(){console.log("TRIGGERING PURCHASE!!");var a=this,b=this.get("cart");b.set("emailAddress",this.get("emailAddress")),b.set("givenName",this.get("givenName")),b.set("surname",this.get("surname")),b.set("address",this.get("address")),b.set("postalCode",this.get("postalCode")),b.set("city",this.get("city")),b.set("phone",this.get("phone")),b.set("createAccount",this.get("createAccount")),console.log(b),b.save().then(function(){var b=a.get("stripeHandler");console.log("Handling stripe: "+b),b&&b.open({name:"Stripe.com",description:a.get("description"),amount:100*a.get("cart.subtotal"),email:a.get("emailAddress"),currency:"nok"})},function(a){console.log("ERROR"),console.log(a)})},doShowCollectShippingDetails:function(){this.set("showShippingDetails",!0),Ember.run.schedule("afterRender",function(){$(".cart-shipping-details").first().hide().slideDown()})},emailAddressEntered:function(){console.log("Email Blurred!")},emailFocusOut:function(){this.set("emailEntered",!0),this.set("emailTyping",!1)},emailKeyDown:function(){this.set("emailEntered",!1),this.set("emailTyping",!0)}},emailAddressIsInvalid:function(){return this.get("emailEntered")&&this.get("emailAddress")?!this.validateEmail(this.get("emailAddress")):this.get("emailEntered")}.property("emailAddress","emailEntered"),validateEmail:function(a){var b=/^\w+@[a-zA-Z_0-9\-]+?\.[a-zA-Z]{2,4}$/;return a?a.match(b):!1},description:function(){return"Kodegnet "+this.get("cart.numProducts")+" produkter"}.property("cart.numProducts"),shippingDetailsCollected:function(){return this.validateEmail(this.get("emailAddress"))&&this.get("givenName.length")>=2&&this.get("surname.length")>=2&&this.get("address.length")>=2&&this.get("postalCode.length")>=4&&this.get("phone.length")>=4&&this.get("city.length")>2}.property("emailAddressIsInvalid","givenName","surname","address","postalCode","city","phone")}),Kodegenet.SocialButtonsComponent=Ember.Component.extend({classNames:["fb-like"],attributeBindings:["dataHref:data-href","dataLayout:data-layout","dataAction:data-action","dataShowFaces:data-show-faces","dataShare:data-share","dataKidDirectedSite:data-kid-directed-site","dataRef:data-ref"],dataHref:window.location.href,dataLayout:"button",dataAction:"like",dataShowFaces:"true",dataShare:"true",dataKidDirectedSite:"true",dataRef:"kodegenet_fb_referral",didInsertElement:function(){console.log("didInsertElement: Social Buttons:"+this.get("currentPath"))},setupFbLike:function(){FB.XFBML.parse()}.on("didInsertElement"),currentPathObserver:function(){var a=this;Ember.run.later(function(){console.log("New URL: "+window.location.href),a.set("dataHref",window.location.href),a.rerender()},500)}.observes("model")}),Kodegenet.StripePaymentButtonComponent=Ember.Component.extend({stripeEnabled:!1,didInsertElement:function(){this.get("stripeEnabled")||(console.log("rerendering"),this.set("stripeEnabled",!0),this.rerender())}}),Kodegenet.ValidatingTextfieldComponent=Ember.TextField.extend({valueEntered:!1,valueTyping:!1,focusOut:function(){this.set("valueEntered",!0),this.set("valueTyping",!1)},keyDown:function(){this.set("valueEntered",!1),this.set("valueTyping",!0)},valueValidObserver:function(){var a=!1;a=this.get("minLength")&&this.get("valueEntered")===!0?this.get("value.length")>=this.get("minLength"):!0,this.set("valueValid",a)}.observes("valueEntered","value","minLength").on("init")}),Kodegenet.VimeoPlayerComponent=Ember.Component.extend({tagName:"iframe",classNames:["small-vimeo-player"],attributeBindings:["src","width","height","frameborder","webkitallowfullscreen","mozallowfullscreen","allowfullscreen"],width:250,height:140,frameborder:!0,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:function(){return this.get("vimeoid")?"//player.vimeo.com/video/"+this.get("vimeoid"):void 0}.property("vimeoid")}),Kodegenet.ChapterController=Ember.ObjectController.extend({}),Kodegenet.ChapterIndexController=Ember.ObjectController.extend({actions:{visAlleOppgaverAction:function(){this.set("visAlleOppgaver",!0)},skjulAlleOppgaverAction:function(){this.set("visAlleOppgaver",!1)},visSlidesAction:function(){this.set("visSlides",!0)},skjulSlidesAction:function(){this.set("visSlides",!1)}}}),Kodegenet.ChapterIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("chapter")}}),Kodegenet.ChapterRoute=Ember.Route.extend({model:function(a){return this.store.find("chapter",a.chapter_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/chapter/"+b.get("id")),document.title=b.get("tittel")+" - Kodegenet"}}),Kodegenet.ChapterOppgaveController=Ember.ObjectController.extend({}),Kodegenet.ChapterOppgaveRoute=Ember.Route.extend({model:function(a){return console.log("ChapterOppgaveRoute: "),console.log(a),this.store.find("oppgave",a.oppgave_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/oppgave"+b.get("id")),document.title=b.get("tittel")+" - Kodegenet"}}),Kodegenet.CourseController=Ember.ObjectController.extend({needs:["chapter","courses","chapterOppgave","application"],coursePopoverShowing:!1,chapterPopoverShowing:!1,subchapterPopoverShowing:!1,actions:{toggleCoursePopover:function(){this.set("chapterPopoverShowing",!1),this.set("subchapterPopoverShowing",!1),this.toggleProperty("coursePopoverShowing")},toggleChapterPopover:function(){this.set("coursePopoverShowing",!1),this.set("subchapterPopoverShowing",!1),this.toggleProperty("chapterPopoverShowing")},toggleSubchapterPopover:function(){this.set("chapterPopoverShowing",!1),this.set("coursePopoverShowing",!1),this.toggleProperty("subchapterPopoverShowing")},selectChapter:function(a){this.hidePopovers(),this.set("selectedSubchapter",null),this.transitionToRoute("chapter",a),this.scrollToTop()},selectCourse:function(a){this.hidePopovers(),this.set("selectedSubchapter",null),this.set("controllers.chapter.model",null),this.transitionToRoute("course",a),this.scrollToTop()},scrollToSubchapter:function(a){this.set("selectedSubchapter",a),this.hidePopovers();var b=a.get("id");if(b){var c=$("#"+b);if(c&&c.offset()){var d=$("html, body");d.animate({scrollTop:c.offset().top-60},"500","swing",function(){})}}}},scrollToTop:function(){var a=$("html, body");a.animate({scrollTop:100},"500","swing",function(){})},hidePopovers:function(){this.set("chapterPopoverShowing",!1),this.set("coursePopoverShowing",!1),this.set("subchapterPopoverShowing",!1)},coursePopoverShowingObserver:function(){this.get("coursePopoverShowing")?$("#coursePopover").removeClass("popnomore"):$("#coursePopover").addClass("popnomore")}.observes("coursePopoverShowing"),chapterPopoverShowingObserver:function(){this.get("chapterPopoverShowing")?$("#chapterPopover").removeClass("popnomore"):$("#chapterPopover").addClass("popnomore")}.observes("chapterPopoverShowing"),subchapterPopoverShowingObserver:function(){this.get("subchapterPopoverShowing")?$("#subchapterPopover").removeClass("popnomore"):$("#subchapterPopover").addClass("popnomore")}.observes("subchapterPopoverShowing"),nextChapter:function(){var a=null;if(this.get("controllers.chapter.model")){var b=this.get("sortedChapters").indexOf(this.get("controllers.chapter.model"));b>=0&&(a=this.get("sortedChapters").objectAt(b+1))}return a}.property("controllers.chapter.id","chapters.@each.id"),prevChapter:function(){var a=null;if(this.get("controllers.chapter.model")){var b=this.get("sortedChapters").indexOf(this.get("controllers.chapter.model"));b>=0&&(a=this.get("sortedChapters").objectAt(b-1))}return a}.property("controllers.chapter.id","chapters.@each.id")}),Kodegenet.CourseIndexController=Ember.ObjectController.extend({actions:{navigateToSubchapter:function(a,b){if(console.log("navigating to subchapter: "+b.get("id")),this.transitionToRoute("chapter",a),b){var c=this;setTimeout(function(){Ember.run.schedule("afterRender",this,function(){console.log("scrolling in after render"),c.scrollToSubchapter(b)},1)},250)}}},scrollToSubchapter:function(a){this.set("selectedSubchapter",a);var b=a.get("id");if(b){var c=$("#"+b);if(c&&c.offset()){var d=$("html, body");d.animate({scrollTop:c.offset().top-100},"500","swing",function(){})}}}}),Kodegenet.CourseIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("course")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/courses/"+b.get("id")),document.title=b.get("title")+" - Kodegenet"}}),Kodegenet.CoursesCourseRoute=Ember.Route.extend({model:function(a){return this.store.find("course",a.course_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/courses/"+b.get("id")),document.title="Kodegenet Kurs - "+b.get("title")}}),Kodegenet.CourseView=Ember.View.extend({didInsertElement:function(){{var a=this,b=function(){a.detectScroll()};setTimeout(function(){a.detectScroll(),Ember.$(window).scroll(b)},1e3)}this.set("onScroll",b)},willDestroyElement:function(){this.get("onScroll")&&Ember.$(window).off("scroll",this.get("onScroll"))},detectScroll:function(){Ember.$(window).scrollTop()>568?this.set("isFloating",!0):this.set("isFloating",!1)},isFloatingObserver:function(){var a=this;Ember.run.scheduleOnce("afterRender",function(){a.get("isFloating")?(Ember.$("#facebook-logo-submenu").addClass("floatingTop-submenu"),Ember.$("#submenu").addClass("floatingTop"),Ember.$("#logoImageSmall").removeClass("hidden"),Ember.$("#logoImageSmall").animate({"margin-top":"0px"},500),Ember.$("#facebook-logo-submenu").animate({top:"25px"},500)):(Ember.$("#facebook-logo-submenu").removeClass("floatingTop-submenu"),Ember.$("#submenu").removeClass("floatingTop"),Ember.$("#logoImageSmall").animate({"margin-top":"-100px"},0),Ember.$("#facebook-logo-submenu").animate({top:"-75px"},500),Ember.$("#logoImageSmall").addClass("hidden"))})}.observes("isFloating")}),Kodegenet.CoursesController=Ember.ArrayController.extend({sortProperties:["sortIndex"]}),Kodegenet.CoursesIndexController=Ember.ArrayController.extend({sortProperties:["sortIndex"],sortAscending:!0}),Kodegenet.CoursesIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("courses")}}),Kodegenet.CoursesRoute=Ember.Route.extend({model:function(){return this.store.find("course")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/courses"),document.title="Kursoversikt - Kodegenet"}}),Kodegenet.EmailVerificationTokensController=Ember.Controller.extend({queryParams:["sptoken"],spToken:null,tokenVerified:!1,spTokenObserver:function(){var a=this.get("sptoken");return a&&(console.log("SPTOKEN!!!"),console.log(a),$.ajax({type:"POST",url:"/json/emailVerificationTokens",data:JSON.stringify(loginData),success:function(a){a.verified?(console.log("SUCCESSFUL VERIFICATION"),self.set("tokenVerified",!0)):self.set("tokenVerified",!1)},error:function(a,b,c){console.log("-------------\nerror: "+b+" error: "+c),self.set("tokenVerified",!1)}})),a}.observes("sptoken")}),Kodegenet.EpostlisteController=Ember.ObjectController.extend({init:function(){this.set("model",this.store.find("page","epostlister"))}}),Kodegenet.EpostlisteRoute=Ember.Route.extend({model:function(){return this.store.find("page","epostlister")},setupController:function(a){this._super(a),ga&&ga("send","pageview","/epostlister"),document.title="Epostlister - Kodegenet"}}),Kodegenet.EventPaameldingController=Ember.ObjectController.extend({chosenParticipant:null,givenName:null,surname:null,age:null,email:null,publishInfo:null,errorMessage:null,eventLagret:!1,actions:{registerParticipant:function(){{var a=this,b=this.get("event");this.get("givenName"),this.get("surname"),this.get("age"),this.get("email"),this.get("publishInfo")}if(this.validateForm()){var c=(this.session.get("ssession.session.user"),this.get("chosenParticipant"));null===c&&(c=this.store.createRecord("eventParticipant",{id:Math.uuid(20)})),c.set("givenName",this.get("givenName")),c.set("surname",this.get("surname")),c.set("age",this.get("age")),c.set("email",this.get("email")),c.set("publishInfo",this.get("publishInfo")),c.save(),b.get("eventParticipants").pushObject(c),b.save().then(function(){a.set("eventLagret",!0)})}},registrerNyDeltaker:function(){this.set("chosenParticipant",null),this.set("givenName",null),this.set("surname",null),this.set("age",null),this.set("email",null),this.set("publishInfo",null),this.set("eventLagret",!1)},velgDeltaker:function(a){this.set("chosenParticipant",a),this.set("givenName",a.get("givenName")),this.set("surname",a.get("surname")),this.set("age",a.get("age")),this.set("email",a.get("email")),this.set("publishInfo",a.get("publishInfo"))}},validateForm:function(){var a=this.get("givenName"),b=this.get("surname"),c=this.get("age"),d=(this.get("email"),this.get("publishInfo"),"");return(null===a||a.length<2)&&(d+="Fornavn må inneholde minst 2 tegn <br />"),(null===b||b.length<2)&&(d+="Etternavn må inneholde minst 2 tegn <br />"),(null===c||c.length<1)&&(d+="Alder må inneholde minst 1 tegn <br />"),d.length>0?this.set("errorMessage",d):this.set("errorMessage",null),null===this.get("errorMessage")}}),Kodegenet.EventPaameldingRoute=Ember.Route.extend({model:function(a){return Ember.RSVP.hash({event:this.store.find("event",a.event_id)})}}),Kodegenet.HeaderController=Ember.ArrayController.extend({needs:["application"],sortProperties:["sortIndex"],sortAscending:!0,showExtendedShoppingCart:!1,actions:{doShowExtendedShoppingCart:function(){this.set("showExtendedShoppingCart",!0)},doHideExtendedShoppingCart:function(){this.set("showExtendedShoppingCart",!1)},orderSuccess:function(a){console.log("ORDER SUCCESS!!!"),this.transitionToRoute("mypage.orders.order",a)}},init:function(){this._super();var a=[];this.store.find("page").then(function(b){b.forEach(function(b){var c=b.get("topMenu");console.log("topMenu: "+c+" :: "+b.get("id")),c===!0&&a.pushObject(b)})});var b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:this.sortProperties});this.set("content",b)},showTracks:function(){return!this.get("controllers.application.currentPath").startsWith("shop")}.property("controllers.application.currentPath"),isInShop:function(){return this.get("controllers.application.currentPath").startsWith("shop")}.property("controllers.application.currentPath"),shoppingCartHasItems:function(){return this.get("session.shoppingCart.numProducts")>0}.property("session.shoppingCart.cartProducts.length","isInShop"),showShoppingCart:function(){return this.get("shoppingCartHasItems")&&this.get("isInShop")}.property("shoppingCartHasItems","isInShop"),showShoppingCartIcon:function(){return this.get("shoppingCartHasItems")&&!this.get("isInShop")}.property("shoppingCartHasItems","isInShop"),numProductsHeader:function(){var a="produkter";return 1==this.get("session.shoppingCart.numProducts")&&(a="produkt"),a}.property("session.shoppingCart.numProducts")}),Ember.Handlebars.registerBoundHelper("currencyFormat",function(a){return null!==a?a.toFixed(2).replace(".",","):void 0}),Ember.Handlebars.registerBoundHelper("dmy",function(a){if(null!==a){var b=moment(a);return b.format("DD-MM-YYYY")}}),Ember.Handlebars.registerBoundHelper("dmy_no",function(a){if(null!==a){var b=moment(a);return b.format("DD/MM/YYYY")}}),Ember.Handlebars.registerBoundHelper("rawhtml",function(a){return console.log("rawhtml: "+a),null!==a?new Handlebars.SafeString(a):void 0}),Ember.Handlebars.registerBoundHelper("markdown",function(a){var b=new Showdown.converter;return a&&null!==a?(Ember.run.schedule("afterRender",this,function(){console.log("scheduling to after render"),Rainbow.color()},200),new Handlebars.SafeString(b.makeHtml(a))):void 0}),Ember.Handlebars.registerBoundHelper("setting",function(a){if(null!==a){console.log("setting helper");var b=this.get("store").find("setting",a);return b.get("settingsValue")}}),Kodegenet.IndexController=Ember.ArrayController.extend({needs:["header"],contentObserver:function(){console.log("INDEX CONTROLLER OBSERVER");var a=this.get("content");a&&this.set("controllers.header.pages",a)}.observes("content.length")}),Kodegenet.IndexRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/"),document.title="Kodegenet Hjem"}}),Kodegenet.IndexController=Ember.ObjectController.extend({needs:["courses","application"],sortProperties:["publishedDate"],sortAscending:!1,numVisibleCourses:0,currPhoto:1,actions:{scrollToContent:function(){var a=$("#indexContent").offset().top;$("html,body").animate({scrollTop:a},750)},scrollToKurs:function(){var a=$("#indexKurs").offset().top;$("html,body").animate({scrollTop:a},750)},scrollToEpostlister:function(){var a=$("#indexEpostliste").offset().top;$("html,body").animate({scrollTop:a},750)}},init:function(){var a=this,b=[];this.store.find("course").then(function(c){c.forEach(function(c){b.pushObject(c),c.get("visible")&&a.set("numVisibleCourses",a.get("numVisibleCourses")+1)})});var c=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:b,sortProperties:["sortIndex"]});a.set("courses",c),(new Image).src="/figurer/forside_karusell1.jpg",(new Image).src="/figurer/forside_karusell2.jpg",(new Image).src="/figurer/forside_karusell3.jpg",(new Image).src="/figurer/forside_karusell4.jpg",(new Image).src="/figurer/forside_karusell5.jpg",(new Image).src="/figurer/forside_karusell6.jpg",Ember.run.later(function(){a.nextPhoto()},15e3)},nextPhoto:function(){console.log("nextPhoto");var a=this,b=this.get("currPhoto");!b||b>=6?b=1:b++,this.set("currPhoto",b),Ember.run.later(function(){a.nextPhoto()},15e3)},updateBackground:function(){console.log("currPhotoObserver");var a="/figurer/forside_karusell"+this.get("currPhoto")+".jpg";$("#indexCarousel").fadeOut(450,function(){$("#indexCarousel").css("background",'url("'+a+'") 0% 50% no-repeat').css("background-size","cover"),$("#indexCarousel").fadeIn(450)})}.observes("currPhoto").on("init"),indexColClassName:function(){return 1===this.get("numVisibleCourses")?"col-sm-5 col-sm-offset-4 col-md-5 col-md-offset-4":2===this.get("numVisibleCourses")?"col-sm-5 col-sm-offset-4 col-md-5 col-md-offset-1":"col-xs-12 col-sm-6 col-md-4 col-lg-4"}.property("numVisibleCourses"),sortedUpdates:function(){console.log("SORTING UPDATED");var a=this.get("updates"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["publishedDate"],sortAscending:!1});return b}.property("updates.@each.publishedDate"),sortedUpdatesLimited:function(){var a=[];return this.get("sortedUpdates")&&(a=this.get("sortedUpdates").toArray().splice(0,5)),a}.property("sortedUpdates"),sortedInstagrams:function(){console.log("SORTING Instagram");var a=this.get("instagramPhotos"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["createdTime"],sortAscending:!1});return b}.property("updates.@each.publishedDate"),sortedInstagramsLimited:function(){var a=[];return this.get("sortedInstagrams")&&(a=this.get("sortedInstagrams").toArray().splice(0,10)),a}.property("sortedInstagrams")}),Kodegenet.IndexRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({page:this.store.find("page","index"),indexKurs:this.store.find("page","indexKurs"),epostliste:this.store.find("page","epostlister"),updates:this.store.find("update"),instagramPhotos:this.store.find("instagramPhoto")})},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/"),document.title="Velkommen! - Kodegenet"}}),Kodegenet.KodeklubbEventRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/kodeklubb/event/"+b.get("id")),document.title="Event - "+b.get("name")+" - Kodegenet"}}),Kodegenet.KodeklubbController=Ember.ObjectController.extend({needs:["courses"]}),Kodegenet.KodeklubbIndexController=Ember.ObjectController.extend({needs:["courses"],sortProperties:["date"],sortAscending:!0,sortedEvents:function(){var a=this.get("events"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["date"]});return b}.property("events.@each.date"),reverseSortedEvents:function(){var a=this.get("events"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["date"],sortAscending:!1});return b}.property("events.@each.date"),futureEvents:function(){var a=[];return this.get("sortedEvents")&&this.get("sortedEvents").forEach(function(b){b.get("isInFuture")&&a.pushObject(b)}),a}.property("sortedEvents"),pastEvents:function(){var a=[];return this.get("reverseSortedEvents")&&this.get("reverseSortedEvents").forEach(function(b){b.get("isInPast")&&a.pushObject(b)}),a}.property("reverseSortedEvents")}),Kodegenet.KodeklubbRoute=Ember.Route.extend({model:function(){var a=this.store;return Ember.RSVP.hash({page:this.store.find("page","lambertseter_kodeklubb"),events:a.filter("event",function(a){return"kodeklubb"===a.get("type")})})},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/kodeklubb"),document.title="Lambertseter Kodeklubb - Kodegenet"}}),Kodegenet.LoginController=Ember.ObjectController.extend({loginEmailAddress:"",loginPassword:"",givenName:"",givenNameValid:!0,actions:{registrerKonto:function(a){console.log("login controller. registrerKonto");var b=this;$.ajax({type:"POST",url:"/kodegenet/auth/register",data:JSON.stringify(a),success:function(a){a.success&&a.isNew?b.transitionToRoute("userRegistered"):a.success&&!a.isNew?b.transitionToRoute("passwordReset"):a.success||b.set("registerError","Klarte ikke registrere ny bruker. Vennligst prøv igjen!")}})},emailFocusOut:function(){console.log("email focus out!");var a=this.validateEmail(this.get("loginEmailAddress"));a?this.set("emailAddressIsInvalid",!1):this.set("emailAddressIsInvalid",!0)},emailKeyDown:function(){console.log("emailTyping")},triggerLogin:function(){var a=this,b=this.validateEmail(this.get("loginEmailAddress"));if(b){this.set("emailAddressIsInvalid",!1);var c={username:this.get("loginEmailAddress"),password:this.get("loginPassword")};$.ajax({type:"POST",url:"/kodegenet/auth/login",data:JSON.stringify(c),success:function(b){b.session.authenticated===!0?(console.log("SUCCESSFUL LOGIN"),a.set("session.session",b.session),Kodegenet.createCookie("uuid",b.session.id,30),a.store.find("shoppingCart",b.session.id).then(function(b){a.set("session.shoppingCart",b)}),a.transitionToRoute("index"),a.set("stormpathLoginError",!1)):(a.set("session.session",null),a.set("stormpathLoginError",!0))},error:function(b,c,d){console.log("-------------\nerror: "+c+" error: "+d),a.set("stormpathLoginError",!0)}})}else this.set("emailAddressIsInvalid",!0)}},loginDetailsCollected:function(){return!this.get("emailAddressIsInvalid")&&this.get("loginEmailAddress").length>5}.property("emailAddressIsInvalid","loginEmailAddress"),verifyEmailAddress:function(){},validateEmail:function(a){var b=/^[a-zA-Z_0-9\-\.]+@[a-zA-Z_0-9\-\.]+?\.[a-zA-Z]{2,4}$/;return a?a.match(b):!1}}),Kodegenet.KodeklubbEventRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/makerspace/event/"+b.get("id")),document.title="Event - "+b.get("name")+" - Kodegenet"}}),Kodegenet.MakerspaceIndexController=Ember.ObjectController.extend({sortedEvents:function(){var a=this.get("events"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["date"]});return b}.property("events.@each.date"),reverseSortedEvents:function(){var a=this.get("events"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["date"],sortAscending:!1});return b}.property("events.@each.date"),futureEvents:function(){var a=[];return this.get("sortedEvents")&&this.get("sortedEvents").forEach(function(b){b.get("isInFuture")&&a.pushObject(b)}),a}.property("sortedEvents"),pastEvents:function(){var a=[];return this.get("reverseSortedEvents")&&this.get("reverseSortedEvents").forEach(function(b){b.get("isInPast")&&a.pushObject(b)}),a}.property("reverseSortedEvents")}),Kodegenet.MakerspaceRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({makerspace:this.store.find("page","makerspace"),events:this.store.filter("event",function(a){return"makerspace"===a.get("type")
})})}}),Kodegenet.MedlemRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({medlem:this.store.find("page","medlem")})}}),Kodegenet.AnimateInViewMixin=Ember.Mixin.create({didInsertElement:function(){this._super(),console.log("AnimateInViewMixin didInsertElement!!"),this.animate()},modelObserver:function(){console.log("MODEL OBSERVER!!"),this.animate()}.observes("model").on("init"),animate:function(){console.log("animateIn: "+this.get("elementId")),console.log("parent: "+this.get("_view")),console.log("animateCssClass: "+this.get("animateCssClass"));var a=this.get("animateCssClass");if(a)$("."+a).first().hide(),Ember.run.schedule("afterRender",function(){$("."+a).first().fadeIn()});else{var b=this.get("elementId");Ember.run.schedule("afterRender",function(){$("#"+b).fadeIn(500)})}}}),Kodegenet.CartProduct=DS.Model.extend({product:DS.belongsTo("product",{async:!0}),orderedProductNumber:DS.attr("number"),totalAmount:DS.attr("number"),discountAmount:DS.attr("number"),orderedItems:DS.attr("number"),numberObserver:function(){var a=this.get("orderedProductNumber");a&&(a=(""+a).replace(/\D/g,""),a!==this.get("orderedProductNumber")&&this.set("orderedProductNumber",a))}.observes("orderedProductNumber").on("init")}),Kodegenet.Chapter=DS.Model.extend({tittel:DS.attr("string"),content:DS.attr("string"),subchapters:DS.hasMany("subchapter",{async:!0}),slides:DS.attr("string"),kapittel:DS.attr("number"),oneliner:DS.attr("string"),intro:DS.attr("string"),slideUrl:function(){return"/reveal.html?ids%5B%5D="+this.get("id")}.property("id"),chapterTittel:function(){return this.get("kapittel")+". "+this.get("tittel")}.property("kapittel","tittel"),sortedSubchapters:function(){var a=this.get("subchapters"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["kapittel"]});return b}.property("subchapters.length")}),Kodegenet.Course=DS.Model.extend({chapters:DS.hasMany("chapter",{async:!0}),name:DS.attr("string"),title:DS.attr("string"),intro:DS.attr("string"),imageSrc:DS.attr("string"),content:DS.attr("string"),submenuContent:DS.attr("string"),shortIntro:DS.attr("string"),sortIndex:DS.attr("number"),visible:DS.attr("boolean"),largeImage:DS.attr("string"),sortedChapters:function(){var a=this.get("chapters"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["kapittel"]});return b}.property("chapters.length")}),Kodegenet.Event=DS.Model.extend({name:DS.attr("string"),content:DS.attr("string"),date:DS.attr("date"),ageGroup:DS.attr("string"),intro:DS.attr("string"),isVisible:DS.attr("boolean"),sted:DS.attr("string"),timeslot:DS.attr("string"),type:DS.attr("string"),capacity:DS.attr("number"),remainingSpots:DS.attr("number"),eventParticipants:DS.hasMany("eventParticipant",{async:!0}),isInFuture:function(){var a=!1,b=this.get("date");if(b){var c=moment(),d=moment(b);a=d.diff(c)>0}return a}.property("date"),isInPast:Ember.computed.not("isInFuture"),isKodeklubb:function(){return"kodeklubb"===this.get("type")}.property("type"),isMakerspace:function(){return"makerspace"===this.get("type")}.property("type")}),Kodegenet.EventParticipant=DS.Model.extend({givenName:DS.attr("string"),surname:DS.attr("string"),age:DS.attr("number"),email:DS.attr("string"),publishInfo:DS.attr("boolean"),username:DS.belongsTo("user",{async:!0,inverse:"eventParticipants"})}),Kodegenet.Figur=DS.Model.extend({href:DS.attr("string")}),Kodegenet.InstagramPhoto=DS.Model.extend({thumbnail:DS.attr("string"),lowResolution:DS.attr("string"),createdTime:DS.attr("number"),postedBy:DS.attr("string"),postedByPicture:DS.attr("string"),caption:DS.attr("string"),link:DS.attr("string"),usernameLink:function(){return"http://instagram.com/"+this.get("postedBy")}.property("postedBy")}),Kodegenet.Order=DS.Model.extend({status:DS.attr("string"),session:DS.attr("string"),emailAddress:DS.attr("string"),givenName:DS.attr("string"),surname:DS.attr("string"),address:DS.attr("string"),postalCode:DS.attr("string"),city:DS.attr("string"),orderLines:DS.hasMany("orderLines",{async:!0})}),Kodegenet.OrderLine=DS.Model.extend({product:DS.belongsTo("product",{async:!0}),orderedProductNumber:DS.attr("number"),totalAmount:DS.attr("number"),discountAmount:DS.attr("number")}),Kodegenet.Page=DS.Model.extend({tittel:DS.attr("string"),content:DS.attr("string"),visible:DS.attr("boolean"),topMenu:DS.attr("boolean"),route:DS.attr("string"),sortIndex:DS.attr("number"),underlineColor:DS.attr("string"),underlineStyle:function(){var a=null;return this.get("underlineColor")&&(a="border-bottom: 2px solid "+this.get("underlineColor")),a}.property("underlineColor")}),Kodegenet.Product=DS.Model.extend({name:DS.attr("string"),pictures:DS.hasMany("figur",{async:!0}),thumbnail:DS.belongsTo("figur",{async:!0}),price:DS.attr("number"),content:DS.attr("string"),learn:DS.hasMany("course",{async:!0})}),Kodegenet.ProductCategory=DS.Model.extend({name:DS.attr("string"),subtitle:DS.attr("string"),sortIndex:DS.attr("number"),products:DS.hasMany("product",{async:!0}),thumbnail:DS.belongsTo("figur",{async:!0})}),Kodegenet.Session=DS.Model.extend({authenticated:DS.attr("boolean"),acceptedCookies:DS.attr("boolean"),lastAccessed:DS.attr("number"),created:DS.attr("number"),user:DS.belongsTo("user",{async:!0})}),Kodegenet.Setting=DS.Model.extend({settingsValue:DS.attr("string"),settingsKey:DS.attr("string"),settingsLabel:DS.attr("string")}),Kodegenet.ShoppingCart=DS.Model.extend({status:DS.attr("string"),session:DS.attr("string"),emailAddress:DS.attr("string"),givenName:DS.attr("string"),surname:DS.attr("string"),address:DS.attr("string"),postalCode:DS.attr("string"),city:DS.attr("string"),phone:DS.attr("string"),createAccount:DS.attr("boolean"),cartProducts:DS.hasMany("cartProduct",{async:!0}),subtotal:function(){var a=0;return this.get("cartProducts").forEach(function(b){b.get("totalAmount")&&(a+=b.get("totalAmount"))}),a}.property("cartProducts.@each.totalAmount","cartProducts.@each.orderedProductNumber"),numProducts:function(){var a=0;return this.get("cartProducts").forEach(function(b){a+=parseInt(b.get("orderedProductNumber"))}),a}.property("cartProducts.@each.orderedProductNumber"),isSingular:function(){return 1===this.get("numProducts")}.property("numProducts")}),Kodegenet.Subchapter=DS.Model.extend({tittel:DS.attr("string"),kapittel:DS.attr("number"),content:DS.attr("string"),screencastbox:DS.attr("string"),oneliner:DS.attr("string"),anchorid:function(){return"#"+this.get("id")}.property("id"),oppgaveTittel:function(){return this.get("kapittel")+". "+this.get("tittel")}.property("kapittel","tittel")}),Kodegenet.Track=DS.Model.extend({name:DS.attr("string"),courses:DS.hasMany("course",{async:!0}),isVisible:DS.attr("boolean"),smallImg:DS.belongsTo("figur",{async:!0}),sortIndex:DS.attr("number"),content:DS.attr("string")}),Kodegenet.Update=DS.Model.extend({title:DS.attr("string"),content:DS.attr("string"),updateIntro:DS.attr("string"),route:DS.attr("string"),publishedDate:DS.attr("date"),image:DS.attr("string"),vimeoid:DS.attr("string"),event:DS.belongsTo("event",{async:!0})}),Kodegenet.User=DS.Model.extend({givenName:DS.attr("string"),surname:DS.attr("string"),orders:DS.hasMany("order",{async:!0}),eventParticipants:DS.hasMany("eventParticipant",{async:!0,inverse:"username"})}),Kodegenet.MypageController=Ember.Controller.extend({}),Kodegenet.MypageRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({})}}),Kodegenet.MyspaceOrdersRoute=Ember.Route.extend({}),Kodegenet.MypageOrdersOrderController=Ember.ObjectController.extend({modelObserver:function(){this.get("model")&&this.get("model").reload()}.observes("model.id").on("init")}),Kodegenet.NewsController=Ember.ObjectController.extend({}),Kodegenet.NewsRoute=Ember.Route.extend({model:function(a){return this.store.find("update",a.update_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/news/"+b.get("id")),document.title=a.get("model.title")+" - Kodegenet"}}),Kodegenet.NewsIndexController=Ember.ObjectController.extend({sortProperties:["publishedDate"],sortAscending:!1,sortedUpdates:function(){console.log("SORTING UPDATED");var a=this.get("updates"),b=Em.ArrayProxy.createWithMixins(Ember.SortableMixin,{content:a,sortProperties:["publishedDate"],sortAscending:!1});return b}.property("updates.@each.publishedDate")}),Kodegenet.NewsIndexRoute=Ember.Route.extend({model:function(){return Ember.RSVP.hash({updates:this.store.find("update")})}}),Kodegenet.OmRoute=Ember.Route.extend({model:function(){return this.store.find("page","om")},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/om"+b.get("id")),document.title="Om Oss - Kodegenet"}}),Kodegenet.PageRoute=Ember.Route.extend({model:function(a){return console.log("PAGE"),console.log(a),this.store.find("page",a.page_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/page/"+b.get("id")),document.title=b.get("tittel")+" - Kodegenet"}}),Kodegenet.RevealFrameView=Ember.View.extend({tagName:"iframe",content:null,attributeBindings:["width","height","src"],width:700,height:500}),Kodegenet.Router=Ember.Router.extend({location:"history"}),Kodegenet.Router.map(function(){this.resource("index",{path:"/"},function(){}),this.resource("track",{path:"/track/:track_id"},function(){this.resource("courses",{path:"/courses"},function(){this.resource("course",{path:"/:course_id"},function(){this.resource("chapter",{path:"/chapter/:chapter_id"},function(){this.route("oppgave",{path:"/oppgave/:oppgave_id"})})})})}),this.resource("page",{path:"/page/:page_id"}),this.route("om"),this.resource("kodeklubb",{path:"/kodeklubb"},function(){this.route("event",{path:"/event/:event_id"})}),this.resource("event",{path:"/event"},function(){this.route("paamelding",{path:"/paamelding/:event_id"})}),this.route("news",{path:"/news/:update_id"}),this.route("newsIndex",{path:"/news"}),this.resource("shop",function(){this.route("product",{path:"/product/:product_id"})}),this.route("epostliste"),this.route("emailVerificationTokens"),this.route("makerspace",function(){this.route("event",{path:"/event/:event_id"})}),this.route("medlem"),this.route("login"),this.route("userRegistered"),this.route("passwordReset"),this.resource("mypage",{path:"/mypage"},function(){this.route("orders",{path:"/orders"},function(){this.route("order",{path:"/confirmation/:order_id"})})})}),Kodegenet.SessionController=Ember.Controller.extend({}),Kodegenet.SettingController=Ember.Controller.extend({}),Kodegenet.ShopProductController=Ember.ObjectController.extend({needs:["application"],currentPhoto:null,actions:{selectPhoto:function(a){a&&this.set("currentPhoto",a)},scrollToDescription:function(){var a=$("#productDescription");$("html,body").animate({scrollTop:a.offset().top},600)},scrollToLearn:function(){var a=$("#productLearn");$("html,body").animate({scrollTop:a.offset().top},600)},addToCart:function(a){var b=this.get("session.shoppingCart");if(a&&b.get("cartProducts")){var c=this.getProductInCart(b,a);c?c.set("orderedProductNumber",parseInt(c.get("orderedProductNumber"))+1):(c=this.store.createRecord("cartProduct"),c.set("product",a),c.set("orderedProductNumber",1),b.get("cartProducts").pushObject(c)),c.save().then(function(){b.reload()})}}},modelObserver:function(){console.log("<<<<<<----ShopProductController--->>>>>>>>>"),console.log("modelObserver: "+this.get("model.pictures.length")),this.get("model.pictures")&&this.get("model.pictures.length")>0?(console.log("setting current photo"),this.set("currentPhoto",this.get("model.pictures").objectAt(0))):this.set("currentPhoto",null)}.observes("model.pictures.length").on("init"),getProductInCart:function(a,b){var c=null;console.log("all cps");var d=this.store.all("cartProduct");return d.forEach(function(a){console.log(JSON.stringify(a)),console.log(JSON.stringify(a.get("product.id")))}),console.log("---"),b&&a.get("cartProducts")&&a.get("cartProducts").forEach(function(a){console.log(JSON.stringify(a.get("product"))),console.log(a.get("product")+" === "+b.get("id")),console.log(a.get("product.id")+" === "+b.get("id")),a.get("product.id")===b.get("id")&&(c=a)}),c}}),Kodegenet.ShopProductView=Ember.View.extend(Kodegenet.AnimateInViewMixin,{}),Kodegenet.ShopIndexController=Ember.ArrayController.extend({sortProperties:["sortIndex"]}),Kodegenet.ShopRoute=Ember.Route.extend({model:function(){return this.store.find("productCategory")}}),Kodegenet.TrackIndexController=Ember.ObjectController.extend({colClass:function(){var a="col-md-12";return this.get("courses.length")>1&&(a="col-md-6"),a}.property("courses.length")}),Kodegenet.TrackRoute=Ember.Route.extend({model:function(a){return this.store.find("track",a.track_id)},setupController:function(a,b){this._super(a,b),ga&&ga("send","pageview","/track/"+a.get("model.id")),document.title=a.get("model.name")+" - Kodegenet"}}),Kodegenet.ChapterMenuItemView=Ember.View.extend({templateName:"chapter-menu-item",isSelected:function(){return this.get("chapter.id")===this.get("controller.controllers.chapter.model.id")}.property("controller.controllers.chapter.model.id","chapter.id")});