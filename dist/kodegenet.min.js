/*! kodegenet 22-03-2014 */
var Kodegenet=Ember.Application.create();DS.RESTAdapter.reopen({namespace:"json"}),Kodegenet.Adapter=DS.RESTAdapter.extend(),Ember.Inflector.inflector.irregular("oppgave","oppgaver"),Kodegenet.Store=DS.Store.extend({adapter:"Kodegenet.Adapter"}),Kodegenet.UpdateAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.PageAdapter=Kodegenet.Adapter.extend({namespace:"json/data"}),Kodegenet.ChapterController=Ember.ObjectController.extend({}),Kodegenet.ChapterIndexController=Ember.ObjectController.extend({actions:{visAlleOppgaverAction:function(){this.set("visAlleOppgaver",!0)},skjulAlleOppgaverAction:function(){this.set("visAlleOppgaver",!1)},visSlidesAction:function(){this.set("visSlides",!0)},skjulSlidesAction:function(){this.set("visSlides",!1)}}}),Kodegenet.ChapterIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("chapter")}}),Kodegenet.ChapterRoute=Ember.Route.extend({model:function(a){return this.store.find("chapter",a.chapter_id)},setupController:function(a,b){this._super(a,b),ga("send","pageview","/chapter"+b.get("id")),document.title="Kodegenet Kapittel - "+b.get("tittel")}}),Kodegenet.CourseController=Ember.ObjectController.extend({needs:["chapter"]}),Kodegenet.CourseIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("course")}}),Kodegenet.CoursesCourseRoute=Ember.Route.extend({model:function(a){return this.store.find("course",a.course_id)},setupController:function(a,b){this._super(a,b),ga("send","pageview","/courses"+b.get("id")),document.title="Kodegenet Kurs - "+b.get("title")}}),Kodegenet.OppgaveRoute=Ember.Route.extend({model:function(a,b){return this.store.find("oppgave",b.oppgave_id)},setupController:function(a,b){this._super(a,b),ga("send","pageview","/oppgave"+b.get("id")),document.title="Kodegenet Oppgave - "+b.get("tittel")}}),Kodegenet.CoursesIndexRoute=Ember.Route.extend({model:function(){return this.modelFor("courses")}}),Kodegenet.CoursesRoute=Ember.Route.extend({model:function(){return this.store.find("course")},setupController:function(a,b){this._super(a,b),ga("send","pageview","/courses"),document.title="Kodegenet Kursoversikt"}}),Kodegenet.HeaderController=Ember.Controller.extend({init:function(){this._super();var a=[];a.pushObject(Ember.Object.create({id:"home",name:"Home",route:"index"})),a.pushObject(Ember.Object.create({id:"om",name:"Om Kodegenet",route:"om"})),a.pushObject(Ember.Object.create({id:"courses",name:"Kurs",route:"courses"})),this.set("pages",a)}}),Ember.Handlebars.registerBoundHelper("dmy",function(a){if(null!==a){var b=moment(a);return b.format("DD-MM-YYYY")}}),Ember.Handlebars.registerBoundHelper("rawhtml",function(a){return console.log("rawhtml: "+a),null!==a?new Handlebars.SafeString(a):void 0}),Ember.Handlebars.registerBoundHelper("markdown",function(a){var b=new Showdown.converter;return null!==a?new Handlebars.SafeString(b.makeHtml(a)):void 0}),Kodegenet.IndexController=Ember.ArrayController.extend({needs:["header"],contentObserver:function(){console.log("INDEX CONTROLLER OBSERVER");var a=this.get("content");a&&this.set("controllers.header.pages",a)}.observes("content.length")}),Kodegenet.IndexRoute=Ember.Route.extend({setupController:function(a,b){this._super(a,b),ga("send","pageview","/"),document.title="Kodegenet Hjem"}}),Kodegenet.IndexController=Ember.ArrayController.extend({sortProperties:["publishedDate"],sortAscending:!1}),Kodegenet.IndexRoute=Ember.Route.extend({model:function(){return this.store.find("update")}}),Kodegenet.Chapter=DS.Model.extend({tittel:DS.attr("string"),content:DS.attr("string"),oppgaver:DS.hasMany("oppgave",{async:!0}),slides:DS.attr("string"),slideUrl:function(){return"/reveal.html?ids%5B%5D="+this.get("id")}.property("id")}),Kodegenet.Course=DS.Model.extend({chapters:DS.hasMany("chapter",{async:!0}),name:DS.attr("string"),title:DS.attr("string"),intro:DS.attr("string"),imageSrc:DS.attr("string"),content:DS.attr("string")}),Kodegenet.Oppgave=DS.Model.extend({tittel:DS.attr("string"),content:DS.attr("string")}),Kodegenet.Page=DS.Model.extend({tittel:DS.attr("string"),content:DS.attr("string"),visible:DS.attr("boolean")}),Kodegenet.Update=DS.Model.extend({title:DS.attr("string"),content:DS.attr("string"),route:DS.attr("string"),publishedDate:DS.attr("string"),image:DS.attr("string")}),Kodegenet.OmRoute=Ember.Route.extend({model:function(){return this.store.find("page","om")}}),Kodegenet.RevealFrameView=Ember.View.extend({tagName:"iframe",content:null,attributeBindings:["width","height","src"],width:700,height:500}),Kodegenet.Router=Ember.Router.extend({location:"history"}),Kodegenet.Router.map(function(){this.resource("index",{path:"/"},function(){}),this.resource("courses",{path:"/courses"},function(){this.resource("course",{path:"/:course_id"},function(){this.resource("chapter",{path:"/chapter/:chapter_id"},function(){this.route("oppgave",{path:"/oppgave/:oppgave_id"})})})}),this.route("om")}),Kodegenet.ChapterMenuItemView=Ember.View.extend({templateName:"chapter-menu-item",isSelected:function(){return this.get("chapter.id")===this.get("controller.controllers.chapter.model.id")}.property("controller.controllers.chapter.model.id","chapter.id")});